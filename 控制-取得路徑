// router.php

// 啟動 session，這樣我們才能在應用中使用 $_SESSION
session_start();

// 從 URL 中取得路徑部分
$path = $_SERVER['REQUEST_URI'];

// 解析 URL，將路徑分割成陣列
$pathParts = explode('/', trim($path, '/'));

// 取得控制器名稱和動作名稱，預設為首頁
$controllerName = empty($pathParts[0]) ? 'home' : $pathParts[0];
$actionName = empty($pathParts[1]) ? 'index' : $pathParts[1];

// 拼湊出控制器的類別名稱和檔案路徑
$controllerClassName = ucfirst($controllerName) . 'Controller';
$controllerFileName = $controllerClassName . '.php';

// 檢查控制器檔案是否存在
if (file_exists($controllerFileName)) {
    // 引入控制器檔案
    require_once($controllerFileName);

    // 建立控制器的實例
    $controller = new $controllerClassName();

    // 呼叫指定的動作
    if (method_exists($controller, $actionName)) {
        // 呼叫控制器的動作方法
        $controller->$actionName();
    } else {
        // 找不到動作，顯示 404 錯誤
        echo '404 Not Found';
    }
} else {
    // 找不到控制器，顯示 404 錯誤
    echo '404 Not Found';
}


//參考網路資料來的
